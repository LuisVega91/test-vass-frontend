<ion-header [translucent]="true">
  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="inventarios"></ion-back-button>
    </ion-buttons>
    <ion-title>
      Formulario de Inventario
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Formulario de Inventario</ion-title>
    </ion-toolbar>
  </ion-header>


  <ion-grid fixed *ngIf="cargaCompleta && !error; else loading">
    <ion-list>
      <form autocomplete="off" [formGroup]="formulario" (ngSubmit)="save()" >

        <ion-input  type="hidden"
                    formControlName="id">
        </ion-input>

        <ion-item>
          <ion-label position="floating">Producto</ion-label>

          <ion-select placeholder="Escoja una opcion" formControlName="producto_id" >
            <ion-select-option *ngFor="let producto of productos" [value]="producto.id">
              {{ producto.nombre }}
            </ion-select-option>
          </ion-select>

        </ion-item>
        <ion-item>
          <ion-label position="floating">Proveedor</ion-label>

          <ion-select placeholder="Escoja una opcion" formControlName="proveedor_id">
            <ion-select-option *ngFor="let proveedor of proveedores" [value]="proveedor.id">
              {{ proveedor.nombre }}
            </ion-select-option>
          </ion-select>

        </ion-item>


        <ion-item>
          <ion-label position="floating">Cantidad</ion-label>
          <ion-input  type="text"
                      formControlName="cantidad">
          </ion-input>
          <ion-note>solo numeros</ion-note>
        </ion-item>

        <br><br>
        <div class="ion-text-center">
          <ion-button size="large" type="submit" [disabled]="formulario.invalid">
            Guardar
          </ion-button>
        </div>
      </form>
    </ion-list>

  </ion-grid>
  <ng-template #loading>
    <app-loading *ngIf="!error"></app-loading>
  </ng-template>

  <app-error *ngIf="error"></app-error>

</ion-content>
